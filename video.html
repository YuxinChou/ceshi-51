<!DOCTYPE html>
<html lang="zh-CN" style="font-size: 52px">
  <head>
    <meta charset="utf-8" />
    <title>小红书</title>
    <meta name="description" content=""/>
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"/>
    <meta name="format-detection" content="telephone=no,address=no,email=no" />
    <meta name="mobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="applicable-device" content="pc,mobile" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <style>
      .absolute-fill-stage {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-left: -30px;
        margin-top: -50px;
        width: 72px;
        height: 72px;
      }
      @keyframes wrapper-gradient {
        0% {
          transform: translateY(100%);
        }
        100% {
          transform: translateY(0);
        }
      }
      @keyframes hide-gradient {
        0% {
          transform: translateY(0);
        }
        100% {
          transform: translateY(100%);
        }
      }
      @keyframes hide-part-gradient {
        0% {
          transform: translateY(0);
        }
        80% {
          transform: translateY(80%);
        }
      }
      .show-animate {
        animation: wrapper-gradient 0.25s linear;
      }
      .hide-animate {
        animation: hide-gradient 0.25s linear;
        animation-fill-mode: forwards;
      }
      .hide-part-animate {
        animation: hide-part-gradient 0.25s linear;
        animation-fill-mode: forwards;
      }
      .desc-container {
        position: fixed; 
        bottom: 50px;
        /* padding: 12px 0;  */
        color: #fff; 
        /* background: #0000006e;  */
        font-size: 14px;
        width: 100%;
        max-width: 450px;
      }
      .desc-container img {
        /* border-radius: 50%; */
        vertical-align: bottom;
      }
      /* .desc-container desc- {
        border-radius: 50%;
        vertical-align: bottom;
      } */
      .desc-container .content-author {
        display: inline-block; 
        line-height: 36px; 
        font-size: 14px;
      }
      .desc-container .content-author-guanzhu {
        display: inline-block; 
        border-radius: 20px; 
        padding: 4px 14px 6px; 
        background: #fd3748; 
        margin-left: 10px;
      }
      .desc-box {
        /* position: relative;
        line-height: 1.6;
        margin-top: 10px; */
      }
      .desc-box p {
        /* margin: 0; */
        display: contents;
      }
      .desc-box.full p {
        display: block;
      }
      .desc-box.full .desc-box-content {
        height: auto;
      }
      .desc-box.full .desc-date {
        display: block;
      }
      .desc-box-content {
        height: 44px;
        overflow: hidden;
        /* text-overflow: ellipsis;
        white-space: nowrap;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical; */
      }
      .desc-box-img,
      .desc-box-img-unfold {
        width: 100%;
        border-radius: 0 !important;
      }
      .desc-box-zhankai {
        /* position: absolute;
        bottom: -2px;
        right: 0px;
        color: #b4afb3;
        background: #000;
        padding: 0px 7px; */
        position: absolute;
        bottom: 6px;
        right: 18px;
        color: #b4afb3;
        background: #000;
      }
      .desc-tag {
        margin-left: 2px;
        color: #dce6e8;
      }
      .desc-date {
        margin-top: 20px;
        color: #9da49d;
        font-size: 12px;
        display: none;
      }
      .content-mask {
        width: 100%;
        height: 100%;
        background: #00000040;
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <body>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      style="position: absolute; width: 0; height: 0"
      aria-hidden="true"
      id="__SVG_SPRITE_NODE__"
    >
      <symbol
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 72 72"
        id="play_s_f"
      >
        <g opacity=".5" filter="url(#play_s_f_filter0_d_701_14344)">
          <path
            d="M22.509 11.32l33.043 19.504c2.846 1.68 3.796 5.356 2.121 8.21a5.987 5.987 0 01-2.121 2.13L22.508 60.661a5.967 5.967 0 01-8.183-2.129 6.012 6.012 0 01-.825-3.04V16.489c0-3.313 2.676-5.998 5.978-5.998 1.066 0 2.112.286 3.031.829z"
            fill="#fff"
          ></path>
        </g>
        <defs>
          <filter
            id="play_s_f_filter0_d_701_14344"
            x="-2"
            y="-2"
            width="76"
            height="76"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
            <feColorMatrix
              in="SourceAlpha"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            ></feColorMatrix>
            <feOffset></feOffset>
            <feGaussianBlur stdDeviation="1"></feGaussianBlur>
            <feColorMatrix
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
            ></feColorMatrix>
            <feBlend
              in2="BackgroundImageFix"
              result="effect1_dropShadow_701_14344"
            ></feBlend>
            <feBlend
              in="SourceGraphic"
              in2="effect1_dropShadow_701_14344"
              result="shape"
            ></feBlend>
          </filter>
        </defs>
      </symbol>
    </svg>
    <div id="app">
      <div class="note-view-container" style="background: #000;">
        <div class="narmal-note-container" style="padding-bottom: 58px; height: 100%;">
          <div class="launch-app-container" style="position: fixed; top: 0; width: 100%; z-index: 100; max-width: 450px;">
            <img id="nav" width="100%" src="./images/video_nav.png"/>
            <a style="display: block; width: 24px; height: 28px; position: absolute; top: 12px; left: 10px;" onclick="window.history.back()"></a>
          </div>
          <div id="my-video-container" style="background-color: #000; height: 100%; width: 100%;">
            <video
              id="my-video"
              class="video absolute-fill long-size-image"
              preload="metadata"
              src=""
              type="video/mp4"
              playsinline=""
              webkit-playsinline=""
              x5-video-player-type="h5"
              x5-video-player-fullscreen="true"
              style="width: 100%; object-fit: contain;"
            ></video>
            <!-- <div class="content-mask"></div> -->
          </div>
          <div id="stage-pause" class="stage-pause absolute-fill-stage">
            <svg width="72" height="72"><use xlink:href="#play_s_f"></use></svg>
          </div>
          <!-- <div class="desc-container">
            <div class="desc-box">
              <img id="footer" width="100%" src="" style="opacity: 0;"/>
            </div>
          </div> -->
          <div class="launch-app-container" style="position: fixed; bottom: 0px; width: 100%; z-index: 100; max-width: 450px; line-height: 0;">
              <img class="desc-box-img" id="content" width="100%" src=""/>
              <img id="footer" width="100%" src=""/>
            <span id="comment-open" style="display: block; width: 66px; height: 28px; position: absolute; bottom: 20px; right: 12px;"></span>
          </div>
          <div class="comments-container hide-animate" style="position: absolute; bottom: 0; z-index: 1000; height: 0px; overflow: hidden; max-width: 450px; background: #fff; ">
            <div style="position: relative; padding-top: 50px; padding-bottom: 58px;">
              <div class="launch-app-container" style="position: absolute; top: 0; width: 100%; height:54px; max-width: 450px;">
                <img id="comments-nav" width="100%" src=""/>
                <span id="comment-close" style="display: block; width: 24px; height: 28px; position: absolute; top: 10px; right: 12px;"></span>
              </div>
              <div style="height: 492px; overflow: auto; background: #fff;">
                <img id="comments" width="100%" src=""/>
                <img width="100%" src="./images/video/comment_end.png"/>
              </div>
              <div class="launch-app-container" style="position: absolute; bottom: 0px; width: 100%; max-width: 450px;">
                <img width="100%" src="./images/video/comment_input.png"/>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Google tag (gtag.js) -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-65XV69X1S0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-65XV69X1S0');
    </script> -->
    <!-- <script src="./js/data/data-famo.js"></script>
    <script src="./js/data/data-faxian.js"></script>
    <script src="./js/data/data-guanhao.js"></script>
    <script src="./js/data/data-lengcuichayou.js"></script>
    <script src="./js/data/data-pinguojiang.js"></script>
    <script src="./js/data/data-wuhuaguo.js"></script>
    <script src="./js/data/data-zonghe.js"></script> -->
    <script src="./js/data/data-video.js"></script>
    <script src="./js/utils.js"></script>
    <script>
      window.onload = function () {
        var params = queryURLParams(window.location.href);
        var from = params.from;
        var id = params.id;
        // var item = {};
        // if (from === 'guanhao') {
        //   item = data_guanhao[id];
        // } else if (from === 'zonghe') {
        //   item = data_zonghe[id];
        // } else if (from === 'lengcuichayou') {
        //   item = data_lengcuichayou[id];
        // } else if (from === 'pingguojiang') {
        //   item = data_pingguojiang[id];
        // } else if (from === 'wuhuaguo') {
        //   item = data_wuhuaguo[id];
        // } else if (from === 'famo') {
        //   item = data_famo[id];
        // } else {
        //   item = data_faxian[id];
        // }
        var item = data_video[id];

        var myVideo = document.querySelector("#my-video");
        if (item.qiUrl) {
          myVideo.src = item.qiUrl;
        } else if (item.videoUrl) {
          myVideo.src = "./images/content/" + item.videoUrl + "/video.mp4";
        } else {
          myVideo.src = "./images/content/" + id + "/video.mp4";
        }
        myVideo.load();
        // setTimeout(function() { 
        //   myVideo && myVideo.play();
        // }, 500);

        var myVideoContainer = document.querySelector("#my-video-container");
        var stagePause = document.querySelector("#stage-pause");
        stagePause.style.visibility = 'visible';
        myVideoContainer.addEventListener('click', myVideoContainerClickHandler);
        stagePause.addEventListener('click', stagePauseClickHandler);

        var content = document.querySelector('#content');
        content.src = "./images/content/" + id + "/content.png";
        var footer = document.querySelector('#footer');
        footer.src = "./images/content/" + id + "/footer.png";
        var commentsNav = document.querySelector('#comments-nav');
        commentsNav.src = "./images/content/" + id + "/comments_nav.png";
        var comments = document.querySelector('#comments');
        comments.src = "./images/content/" + id + "/comments.png";
      

        var commentsVisible = false;
        var commentsContainer = document.querySelector(".comments-container");
        var commentOpen = document.querySelector("#comment-open");
        var commentClose = document.querySelector("#comment-close");
        commentOpen.addEventListener('click', commentOpenClickHandler);
        commentClose.addEventListener('click', commentCloseClickHandler);

        function myVideoContainerClickHandler(e) {
          if (commentsVisible) {
            commentCloseClickHandler();
          } else {
            myVideo && myVideo.pause();
            stagePause.style.visibility = 'visible';
          }
        }

        function stagePauseClickHandler(e) {
          myVideo && myVideo.play();
          stagePause.style.visibility = 'hidden';
        }

        function commentOpenClickHandler(e) {
          commentsContainer.classList.remove('hide-animate');
          commentsContainer.classList.add('show-animate');
          commentsVisible = true;
          setTimeout(function() {
            commentsContainer.style.height = '600px';
          }, 100)
        }

        function commentCloseClickHandler(e) {
          commentsContainer.classList.remove('show-animate');
          commentsContainer.classList.add('hide-animate');
          commentsVisible = false;
          setTimeout(function() {
            commentsContainer.style.height = '0px';
          }, 100)
        }

      }
    </script>
  </body>
</html>
